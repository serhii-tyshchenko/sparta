{"version":3,"sources":["components/Header/Header.js","components/Footer/Footer.js","components/SearchForm/index.js","components/SearchForm/SearchForm.js","components/ParcelList/ParcelListItem/ParcelListItem.js","components/ParcelList/ParcelList.js","services/api/index.js","App.js","services/db/index.js","index.js"],"names":["Header","className","Footer","SearchForm","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","addParcel","alert","onSubmit","this","type","name","placeholder","onChange","pattern","title","style","flexBasis","textAlign","Component","ParcelListItem","parcel","color","displayColorPicker","handleTitleChange","handleKeyDown","key","editParcel","number","handleColorChange","newColor","Object","values","hex","join","handleClick","handleClose","status","date","cityRecipient","citySender","backgroundColor","onKeyDown","onBlur","bind","onClick","getParcelStatus","removeParcel","ParcelList","parcels","setParcelColor","map","item","getData","axios","post","apiKey","modelName","calledMethod","methodProperties","Documents","DocumentNumber","Phone","then","response","data","Number","CitySender","CityRecipient","payer","PayerType","Status","ActualDeliveryDate","Date","toLocaleString","formatData","catch","error","console","log","App","numberExists","array","some","el","getDatafromAPI","newParcel","filter","localStorage","getItem","JSON","parse","setItem","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d3d98a6f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const Header = () => {\r\n    return (\r\n        <header>\r\n            <div className=\"wrapper header\">\r\n                <h2 className=\"header__logo\">Sparta</h2>\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n","import React from 'react';\r\n\r\nexport const Footer = () => {\r\n    return (\r\n        <footer>\r\n            <div className=\"wrapper\">Â© Serhii Tyshchenko, 2019</div>\r\n        </footer>\r\n    );\r\n};\r\n","import SearchForm from './SearchForm';\r\n\r\nexport default SearchForm;\r\n","import React, { Component } from 'react';\r\n\r\nclass SearchForm extends Component {\r\n    state = {\r\n        query: ''\r\n    };\r\n\r\n    handleChange = e => {\r\n        this.setState({ query: e.target.value });\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (this.state.query !== '') {\r\n            this.props.addParcel(this.state.query);\r\n            this.setState({ query: '' });\r\n        } else {\r\n            alert('Empty query!');\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"search\">\r\n                <form className=\"search__form\" onSubmit={this.handleSubmit}>\r\n                    <input\r\n                        className=\"search__input\"\r\n                        value={this.state.query}\r\n                        type=\"text\"\r\n                        name=\"\"\r\n                        placeholder=\"Enter parcel number\"\r\n                        onChange={this.handleChange}\r\n                        pattern=\"^\\d{14}\"\r\n                        title=\"14 numbers\"\r\n                    />\r\n                    <button className=\"search__btn\">Track</button>\r\n                </form>\r\n                <div style={{ flexBasis: '100%', textAlign: 'center' }}>\r\n                    <small>try 20450182437180</small>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchForm;\r\n","import React, { Component } from 'react';\r\nimport { GithubPicker } from 'react-color';\r\nexport class ParcelListItem extends Component {\r\n    state = {\r\n        title: this.props.parcel.title || 'unknown',\r\n        color: this.props.parcel.color || '#fff',\r\n        displayColorPicker: false\r\n    };\r\n    handleTitleChange = e => {\r\n        this.setState({ title: e.target.value });\r\n    };\r\n    handleKeyDown = e => {\r\n        if (e.key === 'Enter') {\r\n            this.props.editParcel(\r\n                this.props.parcel.number,\r\n                'title',\r\n                e.target.value\r\n            );\r\n        }\r\n    };\r\n    handleColorChange = color => {\r\n        const newColor = Object.values(color.hex).join('');\r\n        const number = this.props.parcel.number;\r\n        this.setState({ color: newColor });\r\n        this.props.editParcel(number, 'color', newColor);\r\n    };\r\n    handleClick = () => {\r\n        this.setState({ displayColorPicker: !this.state.displayColorPicker });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ displayColorPicker: false });\r\n    };\r\n    render() {\r\n        const {\r\n            number,\r\n            status,\r\n            date,\r\n            cityRecipient,\r\n            citySender\r\n        } = this.props.parcel;\r\n        const title = this.state.title;\r\n        const color = this.state.color;\r\n\r\n        return (\r\n            <li\r\n                className=\"parcels__item parcel\"\r\n                style={{ backgroundColor: color }}\r\n            >\r\n                <div className=\"parcel__header\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={this.state.title}\r\n                        className=\"parcel__title\"\r\n                        onChange={this.handleTitleChange}\r\n                        onKeyDown={this.handleKeyDown}\r\n                        onBlur={this.props.editParcel.bind(\r\n                            this,\r\n                            number,\r\n                            'title',\r\n                            title\r\n                        )}\r\n                    />\r\n                    <div className=\"parcel__controls\">\r\n                        <button\r\n                            className=\"parcel__btn icon-color-adjust\"\r\n                            onClick={this.handleClick}\r\n                            title=\"Change parcel color\"\r\n                        >\r\n                            {this.state.displayColorPicker ? (\r\n                                <GithubPicker\r\n                                    color={this.state.color}\r\n                                    onChange={this.handleColorChange}\r\n                                />\r\n                            ) : null}\r\n                        </button>\r\n                        <button\r\n                            onClick={this.props.getParcelStatus.bind(\r\n                                this,\r\n                                number\r\n                            )}\r\n                            title=\"Update parcel status\"\r\n                            className=\"parcel__btn parcel__update icon-arrows-cw\"\r\n                        ></button>\r\n                        <button\r\n                            onClick={this.props.removeParcel.bind(this, number)}\r\n                            title=\"Remove parcel\"\r\n                            className=\"parcel__btn parcel__remove icon-trash-empty\"\r\n                        ></button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"parcel__details\">\r\n                    <h3 className=\"parcel__number\">{number}</h3>\r\n                    <div className=\"parcel__route icon-location\">\r\n                        {citySender} - {cityRecipient}\r\n                    </div>\r\n                    <div className=\"parcel__date icon-calendar\">{date}</div>\r\n                    <div className=\"parcel__status\">{status}</div>\r\n                </div>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nimport { ParcelListItem } from './ParcelListItem';\r\n\r\nexport const ParcelList = props => {\r\n    const {\r\n        parcels,\r\n        getParcelStatus,\r\n        editParcel,\r\n        removeParcel,\r\n        setParcelColor\r\n    } = props;\r\n    return (\r\n        <div className=\"parcels\">\r\n            <ul className=\"parcels__list\">\r\n                {parcels.map(item => (\r\n                    <ParcelListItem\r\n                        parcel={item}\r\n                        key={item.number}\r\n                        getParcelStatus={getParcelStatus}\r\n                        editParcel={editParcel}\r\n                        removeParcel={removeParcel}\r\n                        setParcelColor={setParcelColor}\r\n                    />\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n};\r\n","import axios from 'axios';\r\n// const Aftership = require('aftership')('c3f426dd-9ded-4095-9180-69e8301f4d27');\r\nconst formatData = response => {\r\n    const data = response.data.data[0];\r\n    return {\r\n        number: data.Number,\r\n        citySender: data.CitySender,\r\n        cityRecipient: data.CityRecipient,\r\n        payer: data.PayerType,\r\n        status: data.Status,\r\n        date: data.ActualDeliveryDate || new Date().toLocaleString()\r\n    };\r\n};\r\n\r\nconst getData = number => {\r\n    return axios\r\n        .post('https://api.novaposhta.ua/v2.0/json/', {\r\n            apiKey: '',\r\n            modelName: 'TrackingDocument',\r\n            calledMethod: 'getStatusDocuments',\r\n            methodProperties: {\r\n                Documents: [\r\n                    {\r\n                        DocumentNumber: number,\r\n                        Phone: ''\r\n                    }\r\n                ]\r\n            }\r\n        })\r\n        .then(response => formatData(response))\r\n        .catch(error => console.log(error));\r\n};\r\n\r\nexport default getData;\r\n","import React, { Component } from 'react';\r\nimport { Header } from './components/Header';\r\nimport { Footer } from './components/Footer';\r\nimport SearchForm from './components/SearchForm';\r\nimport { ParcelList } from './components/ParcelList';\r\n\r\nimport * as db from '../src/services/db';\r\nimport getDatafromAPI from '../src/services/api';\r\n\r\nimport './fontello/css/fontello.css';\r\n\r\nclass App extends Component {\r\n    state = {\r\n        parcels: []\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState(db.getStateFromDB());\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        db.saveStateToDB(this.state);\r\n    }\r\n\r\n    numberExists = (array, number) => array.some(el => el.number === number);\r\n\r\n    addParcel = number => {\r\n        if (this.numberExists(this.state.parcels, number)) {\r\n            alert('Parcel already added!');\r\n            return;\r\n        }\r\n        getDatafromAPI(number)\r\n            .then(response => {\r\n                const newParcel = response;\r\n                newParcel.title = 'untitled';\r\n                newParcel.color = 'white';\r\n                this.setState({\r\n                    parcels: [...this.state.parcels, newParcel]\r\n                });\r\n            })\r\n            .catch(error => console.log(error));\r\n    };\r\n\r\n    removeParcel = number => {\r\n        this.setState({\r\n            parcels: [\r\n                ...this.state.parcels.filter(item => item.number !== number)\r\n            ]\r\n        });\r\n    };\r\n\r\n    editParcel = (number, key, value) => {\r\n        this.setState({\r\n            parcels: this.state.parcels.map(parcel => {\r\n                if (parcel.number === number) {\r\n                    parcel[key] = value;\r\n                }\r\n                return parcel;\r\n            })\r\n        });\r\n    };\r\n\r\n    getParcelStatus = number => {\r\n        getDatafromAPI(number).then(response => {\r\n            this.setState({\r\n                parcels: this.state.parcels.map(parcel => {\r\n                    if (parcel.number === number) {\r\n                        parcel.status = response.status;\r\n                    }\r\n                    return parcel;\r\n                })\r\n            });\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                <Header />\r\n                <main className=\"wrapper\">\r\n                    <SearchForm addParcel={this.addParcel} />\r\n                    <ParcelList\r\n                        getParcelStatus={this.getParcelStatus}\r\n                        removeParcel={this.removeParcel}\r\n                        editParcel={this.editParcel}\r\n                        parcels={this.state.parcels}\r\n                    />\r\n                </main>\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","const getStateFromDB = () => {\r\n    const intitalState = {\r\n        parcels: []\r\n    };\r\n    return localStorage.getItem('parcelList')\r\n        ? JSON.parse(localStorage.getItem('parcelList'))\r\n        : intitalState;\r\n};\r\n\r\nconst saveStateToDB = state => {\r\n    localStorage.setItem('parcelList', JSON.stringify(state));\r\n};\r\n\r\nexport { getStateFromDB, saveStateToDB };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}